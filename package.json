{
  "name": "feedbin-mailer",
  "scripts": {
    "app:prod:build": "docker build -t karllhughes/feedbin-mailer .",
    "app:prod:push": "docker push karllhughes/feedbin-mailer karllhughes/feedbin-collector",
    "app:prod:deploy": "docker run --rm --env-file $(pwd)/.env -v $(pwd)/docker:/docker chickenzord/hyper sh /docker/deploy.hyper.sh",
    "app:prod:run": "sh docker/run.hyper.sh",

    "db:local:up": "docker run -d --rm --name fbm-postgres -p 5432:5432 --env-file $(pwd)/.env -v $(pwd)/.data:/var/lib/postgresql/data postgres:9.6",
    "db:local:down": "docker rm -f fbm-postgres",

    "collector:local:build": "docker build -t karllhughes/fbm-collector ./collector",
    "collector:local:run": "docker run --rm --name fbm-collector --env-file $(pwd)/.env -v $(pwd)/collector:/app --link fbm-postgres:postgres karllhughes/fbm-collector",

    "mailer:local:build": "docker build -t karllhughes/fbm-mailer ./mailer",
    "mailer:local:run": "docker run --rm --name fbm-mailer --env-file $(pwd)/.env -v $(pwd)/mailer:/app --link fbm-postgres:postgres karllhughes/fbm-mailer"
  }
}
